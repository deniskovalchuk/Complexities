# Binary heap

<b>Двои́чная ку́ча, пирами́да,</b> или <b>сортиру́ющее де́рево</b>  — такое двоичное дерево, для которого выполнены три условия:
<p>
<ol>
<li>Значение в любой вершине не меньше, чем значения её потомков.</li>
<li>Глубина всех листьев (расстояние до корня) отличается не более чем на 1 слой.</li>
<li>Последний слой заполняется слева направо без «дырок».</li>
</ol>
</p>
<p>
Существуют также кучи, где значение в любой вершине, наоборот, не больше, чем значения её потомков. Такие кучи называются min-heap, а кучи, описанные выше — max-heap.

Удобная структура данных для сортирующего дерева — массив A, у которого первый элемент, A[1] — элемент в корне, а потомками элемента A[i] являются A[2i] и A[2i+1] (при нумерации элементов с первого). При нумерации элементов с нулевого, корневой элемент — A[0], а потомки элемента A[i] — A[2i+1] и A[2i+2]. При таком способе хранения условия 2 и 3 выполнены автоматически.

Высота кучи определяется как высота двоичного дерева. То есть она равна количеству рёбер в самом длинном простом пути, соединяющем корень кучи с одним из её листьев. Высота кучи есть Θ(log(N)), где N — количество узлов дерева.
</p>

<h2>Complexities</h2>
<p>
Над кучей можно выполнять следующие операции:
<ol>
  <li>Добавить элемент в кучу. Сложность O(log(n)).</li>
  <li>Исключить максимальный элемент из кучи. Время работы O(log(n)).</li>
  <li>Изменить значение любого элемента. Время работы O(log(n)).</li>
</ol>
На основе этих операций можно выполнять следующие действия:
<ol>
    <li>Превратить неупорядоченный массив элементов в кучу. Сложность O(n).</li>
    <li>Отсортировать массив путём превращения его в кучу, а кучи в отсортированный массив. Время работы O(n * log(n)).</li>
</ol>
Здесь n — количество элементов кучи. Пространственная сложность — O (1) для всех вышеперечисленных операций и действий.
</p>
</div>

<h2>References</h2>
<ol>
<li>
<a href="https://ru.wikipedia.org/wiki/%D0%94%D0%B2%D0%BE%D0%B8%D1%87%D0%BD%D0%B0%D1%8F_%D0%BA%D1%83%D1%87%D0%B0">wikipedia.org</a>.
</li>
<li>
<a href="http://acm.mipt.ru/twiki/bin/view/Algorithms/BinaryHeap">acm.mipt.ru</a>.
</li>
</ol>